<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>libgimpprint API Reference: stp_image struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>stp_image Struct Reference<br>
<small>
[<a class="el" href="group__image.html">image</a>]</small>
</h1>The image type is an abstract data type for interfacing with the image creation program.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="image_8h-source.html">image.h</a>&gt;</code>
<p>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void(*&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structstp__image.html#o0">init</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback is used to perform any initialization required by the image layer for the image.  <a href="#o0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void(*&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structstp__image.html#o1">reset</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback is called to reset the image to the beginning.  <a href="#o1"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int(*&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structstp__image.html#o2">width</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback returns the width of the image in pixels.  <a href="#o2"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int(*&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structstp__image.html#o3">height</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback returns the height of the image in pixels.  <a href="#o3"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="group__image.html#ga9">stp_image_status_t</a>(*&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structstp__image.html#o4">get_row</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image, unsigned char *data, size_t byte_limit, int row)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback transfers the data from the image to the gimp-print library.  <a href="#o4"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>const char *(*&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structstp__image.html#o5">get_appname</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback returns the name of the application.  <a href="#o5"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void(*&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structstp__image.html#o6">conclude</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback is called at the end of each page.  <a href="#o6"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structstp__image.html#o7">rep</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A pointer to an application-specific state information that might need to be associated with the image object.  <a href="#o7"></a><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The image type is an abstract data type for interfacing with the image creation program. 
<p>
It provides callbacks to functions defined within the client application which are called while printing the image. 
<p>

<p>
Definition at line <a class="el" href="image_8h-source.html#l00065">65</a> of file <a class="el" href="image_8h-source.html">image.h</a>.<hr><h2>Field Documentation</h2>
<a class="anchor" name="o6" doxytag="stp_image::conclude" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void(* <a class="el" href="structstp__image.html#o6">stp_image::conclude</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This callback is called at the end of each page. 
<p>

<p>
Referenced by <a class="el" href="image_8c-source.html#l00073">stp_image_conclude()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="o5" doxytag="stp_image::get_appname" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char*(* <a class="el" href="structstp__image.html#o5">stp_image::get_appname</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This callback returns the name of the application. 
<p>
This is embedded in the output by some drivers. 
<p>
Referenced by <a class="el" href="image_8c-source.html#l00064">stp_image_get_appname()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="o4" doxytag="stp_image::get_row" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="group__image.html#ga9">stp_image_status_t</a>(* <a class="el" href="structstp__image.html#o4">stp_image::get_row</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image, unsigned char *data, size_t byte_limit, int row)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This callback transfers the data from the image to the gimp-print library. 
<p>
It is called from the driver layer. It should copy WIDTH (as returned by the <a class="el" href="structstp__image.html#o2">width()</a> member) pixels of data into the data buffer. It normally returns STP_IMAGE_STATUS_OK; if something goes wrong, or the application wishes to stop producing any further output (e. g. because the user cancelled the print job), it should return STP_IMAGE_STATUS_ABORT. This will cause the driver to flush any remaining data to the output. It will always request rows in monotonically ascending order, but it may skip rows (if, for example, the resolution of the input is higher than the resolution of the output). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>image</em>&nbsp;</td><td>the image in use. </td></tr>
    <tr><td valign=top><em>data</em>&nbsp;</td><td>a pointer to <a class="el" href="structstp__image.html#o2">width()</a> bytes of pixel data. </td></tr>
    <tr><td valign=top><em>byte_limit</em>&nbsp;</td><td>(image width * number of channels). </td></tr>
    <tr><td valign=top><em>row</em>&nbsp;</td><td>(unused). </td></tr>
  </table>
</dl>

<p>
Referenced by <a class="el" href="image_8c-source.html#l00057">stp_image_get_row()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="o3" doxytag="stp_image::height" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int(* <a class="el" href="structstp__image.html#o3">stp_image::height</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This callback returns the height of the image in pixels. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>image</em>&nbsp;</td><td>the image in use. </td></tr>
  </table>
</dl>

<p>
Referenced by <a class="el" href="image_8c-source.html#l00051">stp_image_height()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="o0" doxytag="stp_image::init" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void(* <a class="el" href="structstp__image.html#o0">stp_image::init</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This callback is used to perform any initialization required by the image layer for the image. 
<p>
It will be called once per image. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>image</em>&nbsp;</td><td>the image in use. </td></tr>
  </table>
</dl>

<p>
Referenced by <a class="el" href="image_8c-source.html#l00031">stp_image_init()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="o7" doxytag="stp_image::rep" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void* <a class="el" href="structstp__image.html#o7">stp_image::rep</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A pointer to an application-specific state information that might need to be associated with the image object. 
<p>

<p>
Definition at line <a class="el" href="image_8h-source.html#l00124">124</a> of file <a class="el" href="image_8h-source.html">image.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="o1" doxytag="stp_image::reset" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void(* <a class="el" href="structstp__image.html#o1">stp_image::reset</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This callback is called to reset the image to the beginning. 
<p>
It may (in principle) be called multiple times if a page is being printed more than once. <dl compact><dt><b>Warning:</b></dt><dd>The <a class="el" href="structstp__image.html#o1">reset()</a> call may be removed in the future. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>image</em>&nbsp;</td><td>the image in use. </td></tr>
  </table>
</dl>

<p>
Referenced by <a class="el" href="image_8c-source.html#l00038">stp_image_reset()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="o2" doxytag="stp_image::width" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int(* <a class="el" href="structstp__image.html#o2">stp_image::width</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This callback returns the width of the image in pixels. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>image</em>&nbsp;</td><td>the image in use. </td></tr>
  </table>
</dl>

<p>
Referenced by <a class="el" href="image_8c-source.html#l00045">stp_image_width()</a>.    </td>
  </tr>
</table>
<hr>The documentation for this struct was generated from the following file:<ul>
<li>include/gimp-print/<a class="el" href="image_8h-source.html">image.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Aug 25 07:56:16 2004 for libgimpprint API Reference by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > </a>1.3.6 </small></address>
</body>
</html>
