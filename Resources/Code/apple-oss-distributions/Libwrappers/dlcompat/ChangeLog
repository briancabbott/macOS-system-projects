2003-07-04  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: Fix gcc-3.3 warning about comparison between signed and unsigned.

2003-07-01  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: I broke dlopening dylibs with neither RTLD_LOCAL or RTLD_GLOBAL specified. In
	this case the docs say that RTLD_GLOBAL is the default, I had changed it to be RTLD_LOCAL
	everywhere. Thanks to Daniel Macks <dmacks@users.sourceforge.net> for noticing.

2003-06-29  Peter O'Gorman <ogorman@users.sourceforge.net>

	* configure.in, dlopen.3.in, Makefile.in: Release 20030629, tell people to use the native
	funcs in new code. Add dladdr.3 to the dist.

2003-06-23  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c, dlopen.3.in: Clean up the error reporting stuff, note in the manpage that
	things are pretty broken for force_flat_namespace executables.

2003-06-20  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: Better? error reporting for cirdan. Cleanup after ourselves using atexit.

2003-06-10  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c, dlopen.3.in: Allow _init and _fini routines to call dl* funcs.

2003-06-08  Peter O'Gorman <ogorman@users.sourceforge.net>

	* AUTHORS: forgot RangerRick
	
2003-06-08  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c, spec_notes.txt, dladdr.3, Makefile.in, dlopen.3.in: reformat ascii
	diagram, cleanup, avoid a deadlock if _init or _fini routines attempt to call
	dl* functions, just exits the app right now. Update the manpages. Finally made
	the decision to keep dlfunc out until I see a port which needs it, or it becomes
	part of the spec. Removed RTLD_SELF for similar reasons.

2003-06-05  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c, spec_notes.txt: small changes to dlfcn.c, added some notes about spec
	compliance.

2003-06-05  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c, dlfcn.h: Readded dlfunc, implemented RTLD_NEXT, RTLD_SELF and RTLD_DEFAULT
	for dlsym. Compiles against the freebsd 5.0 header, but I can't grab that because it
	would break binary compat, reran indent to fix problems with my use of a multitude of
	editors (if only they would stop crashing).

2003-05-22  Peter O'Gorman <ogorman@users.sourceforge.net>

	* AUTHORS: Forgot people.

2003-05-22  Peter O'Gorman <ogorman@users.sourceforge.net>

	* Makefile.in,configure.in,README,dlfcn.c,dlfnc.h,dlfcn_simple.c,dlopen.3.in:
	dlopen.3 should is generated by the makefile, not configure, dlfcn_simple.c some
	rewrite of the error code, preparation for release, remove the dlfunc I added on
	the 20th, I need to convince myself that it is worthwhile.

2003-05-20  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c, dlfcn.h: dynamically allocate space for all needed paths, add dlfunc, use
	the restric keyword for gcc >3, fix dladdr for MH_SPLIT_SEGS, use our own NSAddImage
	for the search linked libs case, as NSAddImage is stupid, and does not search
	DYLD_LIBRARY_PATH or match install_names. Use NSUNLINKMODULE_OPTION_RESET_LAZY_REFERENCES
	for ppc in dlclose, and NSUNLINKMODULE_OPTION_KEEP_MEMORY_MAPPED if the object has
	any __mod_term_func's to avoid the bus error in atexit(3) with c++ static destructors.

2003-05-12  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: reset the error string when an exported function is called. Do not write
	off the end of the search_paths array, increase MAX_SEARCH_PATHS to 128. This needs
	to be looked at again, the search paths array should be allocated dynamically so all
	the paths can be included.

2003-04-27  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: Patch from Ben Hines for better error reporting in dlclose a non bundle.

2003-04-06  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: Checking some code that has been sitting here for months. thread safe,
	removed crap code for c++ static initializer calling. Need to add something back
	later.
	
2003-01-27  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn_simple.c: Cleanup.

2002-12-18  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: Quick hack to get sound working in artsd.

2002-11-15  Peter O'Gorman <ogorman@users.sourceforge.net>

	* configure.in, Makefile.in: Upped version for release on 11/17, include LICENSE in
	the distribution.

2002-11-11  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c, dlfcn_simple.c, Makefile.in, README, configure.in, dlopen.3.in: Ran indent
	on the source code, changed an error message. Make make dist work, changed cvs 
	instructions in README, added a man page from freebsd.
	
2002-11-10  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c, AUTHORS, LICENSE, Makefile.in, configure.in, dlfcn.h: Updated LICENSE to
	add myself to the copyright, sugegsted by Max, fixed a bug in declatation order,
	thanks to fjf, added AUTHORS file.

2002-11-8  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: Patch from Max Horn applied. Fixes some path issues, and code cleanup.


2002-10-29  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: Lookup the NSAddImage etc stuff that was added in OS 10.1, so that the
	binary can be used on 10.0. It may or may not work, don't have a 10.0 system to
	try it.

2002-10-23  Peter O'Gorman <ogorman@users.sourceforge.net>

	*dlfcn.c: Moving things around.

2002-10-14  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfnc.c: bugfixes

2002-09-29  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c, README, TODO, dlfcn_simple.c: Added /usr/local/lib to the default search 
	paths, updated README file, and TODO, added some comments to dlfcn_simple.c, and 
	removed the #if FINK_BUILD stuff from it, it is meant as an example, no need to go
	confusing it.

2002-09-25  Peter O'Gorman <ogorman@users.sourceforge.net>
	
	* dlfcn.c: fixed quite a few thinko's in last commit.

2002-09-22  Peter O'Gorman <ogorman@users.sourceforge.net>
	* fink.mk,dlfcn.c,dlfcn_simple.c: Modified fink.mk to call make -f fink.mk
	for debug builds, addded searching dependent libraries to fix a problem where
	kate.so wouldn't be launched because it contains no symbols, the _main symbol
	actually appears in one of it's dependant libs. Added dlfcn_simple.c as an example
	of what to do to add dlopen(3) functionality to apps, I don't want people using the
	mess that is dlfcn.c as their basis. The code I added to dlfcn.c still needs work,
	and lots of it.

2002-08-27  Peter O'Gorman <ogorman@users.sourceforge.net>

	* fink.mk: Keep fink happy.

2002-08-27  Peter O'Gorman <ogorman@users.sourceforge.net>

	* Makefile, README: Removed any and all finkisms.

2002-08-22  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c, Makefile: Prepend the underscore by default for dlsym.

2002-07-31  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.h: Duh, protect the header from being included twice.	

2002-07-02  Peter O'Gorman <ogorman@users.sourceforge.net>

	* Makefile: Made Makefile bsdmake compatible.

2002-07-02  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c, dlfcn.h, LICENSE, Makefile, README: Noted bug reports go to
	me and not Jorge.

2002-06-30  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c dlfcn.h: First attempt at adding dladdr

2002-06-09  Peter O'Gorman <ogorman@users.sourceforge.net>

	* README: added some notes
	* dlfcn.c: Format changes, small bugfix.
	
2002-06-06  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: I broke finks xemacs, now fixed.

2002-05-27  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: I really should read specs instead of making assumptions.
	dlopen(NULL,x) opens the _global_ context, not the application context.
	Fixed. Made dlsym_prepend_underscore work with stupidly long 
	symbol names.

2002-05-23  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: When opening a bundle for the second time, reuse the
	dlstatus struct from the previously closed version. Removed some
	debugging routines.
	* README: Minor update

2002-05-18  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: Fixed my last "fix". Thanks to Darin Ohashi again.

2002-05-15  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: Fixed bug reported by Darin Ohashi. dlopen a bundle
	close it, and dlopen same bundle again fails.

2002-05-07  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: Changes on 2002-05-01 broke dlopen self, now fixed.

2002-05-05  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: Better error reporting (I hope)
	* Makefile: New debug target, from vasi.

2002-05-01  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: When doing dlsym on dylibs, only check for the 
	symbol in the lib that was passed.

2002-04-23  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: fixed warnings when building with gcc3.

2002-04-17  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: modified dlsym_auto_underscore so it doesn't set the 
	error on the first call.

2002-04-16  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: added dlsym_auto_underscore on Justin's request.

2002-04-13  Max Horn  <max@quendi.de>

	* dlfcn.c: added dlsymIntern (like dlsym but for internal use); changed 
	dlopen/dlclose to use dlsymIntern, to prevent some border case problems.

2002-04-11  Peter O'Gorman <ogorman@users.sourceforge.net>

	* dlfcn.c: Added function dlsym_prepend_underscore for ease of
	porting packages which expect to be able to call
	dlsym(module,symbol) without a leading underscore, those package
	maintainers can now add -Ddlsym=dlsym_prepend_underscore to the
	CFLAGS and the package should just work, I hope

2002-03-23  Max Horn  <max@quendi.de>

	* dlfcn.c: changed 'enum bool' to int to fix a problem with newer
	systems

2002-03-22  Peter O'Gorman <ogorman@users.sourceforge.net>

	* README: Updated README

2002-03-22  Peter O'Gorman <ogorman@users.sourceforge.net>

	* .cvsignore, dlcompat.info, dlfcn.c, dlfcn.h, LICENSE, Makefile,
	README, TODO, dltest.fs, test/.cvsignore, test/Makefile,
	test/README, test/dltest.c, test/libbar.c, test/libfoo.c,
	test/runtest.sh: Initial revision
