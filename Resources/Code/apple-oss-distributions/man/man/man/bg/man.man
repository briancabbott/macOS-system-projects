.\" Man page for man (and the former manpath)
.\"
.\" Copyright (c) 1990, 1991, John W. Eaton.
.\"
.\" You may distribute under the terms of the GNU General Public
.\" License as specified in the README file that comes with the man 1.0
.\" distribution.  
.\"
.\" John W. Eaton
.\" jwe@che.utexas.edu
.\" Department of Chemical Engineering
.\" The University of Texas at Austin
.\" Austin, Texas  78712
.\"
.\" Many changes - aeb
.\" More changes - flc
.\"
.\" Translated by Dimitar Zhekov <jimmy@is-vn.bg>, 2002.
.\" Translated by Alexander Shopov <ash@contact.bg>, 2005.
.TH man 1 "21 август 2005"
.LO 1
.SH ИМЕ
man \- форматиране и извеждане на страници от електронното ръководство
.SH СИНТАКСИС
.B man 
.RB [ \-acdfFhkKtwW ]
.RB [ --path ] 
.RB [ \-m 
.IR система ] 
.RB [ \-p 
.IR низ ] 
.RB [ \-C 
.IR конфигурационен_файл ] 
.RB [ \-M 
.IR път ]
.RB [ \-P
.IR програма ] 
.RB [ \-B
.IR браузър ] 
.RB [ \-H
.IR програма_за_HTML ] 
.RB [ \-S 
.IR списък_от_раздели ] 
.RI [ раздели ] 
.I "име ..."

.SH ОПИСАНИЕ
.B man
форматира и извежда страници от електронното ръководство.  
Ако е указан
.IR раздел ,
.B man
търси само в този раздел на ръководството.
.I име
обикновено е име на страница от ръководството, т.е. по 
принцип име на команда, функция или файл. Ако обаче
.I име 
съдържа наклонена черта
.RB ( / ),
.B man 
, го възприема като име на файл, така че можете да изпълните 
.B "man ./foo.5"
или дори
.B "man /cd/foo/bar.1.gz\fR.\fP"
.PP
По-надолу е описано къде
.B man
търси страниците от ръководството.
 
.SH ОПЦИИ
.TP
.B \-\^C " конфигурационен_файл"
Указва кой конфигурационен файл да се използва. Подразбира се
.BR @man_config_file@ .
(Вижте
.BR man.conf (5)).
.TP
.B \-\^M " списък_с_пътища"
Списък от директории, разделени с двоеточие, в които да се 
търсят страници от ръководството.  
Празен списък е същото като да не се укаже
.BR \-M .
Вижте
.BR "ПЪТ ЗА ТЪРСЕНЕ НА СТРАНИЦИ ОТ РЪКОВОДСТВОТО" .
.TP
.B \-\^P " програма"
Програма, която да се ползва за показване на страниците.  
Тази опция е с по-висок приоритет от променливата на средата
.BR MANPAGER ,
която пък е с по-висок приоритет от променливата 
.BR PAGER .
По подразбиране
.B man
използва
.BR "@pager@" .
.TP
.B \-\^B
Указва, коя програма за разглеждане да се използва за файлове с HTML. 
Тази опция е с по-висок приоритет от променливата на средата
.BR BROWSER . 
По подразбиране
.B man
използва
.BR @browser@ ,
.TP
.B \-\^H
Указва програмата за текстово изобразяване на файлове с HTML.
Този опция е с по-висок приоритет от променливата на средата
.BR HTMLPAGER . 
По подразбиране
.B man
използва
.BR @htmlpager@ ,
.TP
.B \-\^S " списък_от_раздели"
Списък от раздели, разделени с двоеточие, в които да се търсят 
страници от ръководството. Тази опция е с по-висок приоритет 
от променливата на средата
.BR MANSECT .
.TP
.B \-\^a
Извеждане на всички намерени страници.  
По подразбиране
.B man 
приключва търсенето при намирането на първата страница.  
Чрез тази опция
.B man 
претърсва всички страници.
.TP
.B \-\^c
Форматиране наново на оригиналната страница, дори ако вече 
съществува актуална, готова страница.  
Това има смисъл, ако предварително форматираната страница е 
повредена или форматирана за екран с различна ширина на текста.
.TP
.B \-\^d
Не се извеждат страници, а диагностична информация за изпълнението на
.BR man .
.TP
.B \-\^D
Извеждане и на страниците, и на диагностична информация.
.TP
.B \-\^f
Еквивалент на
.BR whatis .
.TP
.BR \-\^F " или " \-\-preformat
Само форматиране, без извеждане.
.TP
.B \-\^h
Извеждане на едноредово помощно съобщение и изход.
.TP
.B \-\^k
Еквивалент на
.BR apropos .
.TP
.B \-\^K
Търсене на указан низ във *всички* страници. Предупреждение: 
това най\-вероятно ще е много бавно, така че е добре е да се 
укаже раздел. (За да придобиете представа \- на моята машина 
търсенето в 500 страници отнема около минута).
.TP
.B \-\^m " система"
Търсене в различен комплект от страници, отговарящи на указаната система.
.TP
.B \-\^p " низ"
Списък от команди за предварителна обработка, които да се стартират преди
.B nroff
или
.BR troff .
Не всички системи разполагат с пълен набор от средства за 
предварителна обработка. Някои от командите за предварителна 
обработка и буквите, които ги указват са:
eqn (e), grap (g), pic (p), tbl (t), vgrind (v), refer (r).
Тази опция е с по-висок приоритет от променливата на средата
.BR MANROFFSEQ .
.TP
.B \-\^t
Използване на
.B @troff@
за форматиране на страницата и изпращане на резултата на стандартния изход \-
.B stdout.
Възможно е да се наложи използването на допълнителен филтър 
преди страницата да се отпечата.
.TP
.B \-\^w \fRили\fP \-\-path
Не се извеждат страниците, а местонахождението на файловете, 
които биха били форматирани или изведени.  
Ако не е указан аргумент, извеждане (на стандартния изход) на 
директориите, в които
.B man
търси страници от ръководството.  
Ако командата
.B manpath
сочи към man, то "manpath" е еквивалент на "man --path".
.TP
.B \-\^W
Като \-\^w, но имената на файловете се извеждат по един на 
ред и без допълнителна информация. Използва се за команди в 
команден интерпретатор като
.ft CW
.BR "man -aW man | xargs ls -l" .
.ft

.SH "ГОТОВИ СТРАНИЦИ"
За да спести времето за форматирането на страниците, man се 
опитва да съхрани форматираните страници и впоследствие да 
ги използва готови. По традиция готовите версии ("cat") на 
страниците от ДИРЕКТОРИЯ/manX се съхраняват в ДИРЕКТОРИЯ/catX, но в
.BR @man_config_file@
може да се укаже други съответствия. Готовите страници не се
съхраняват, ако необходимата за това директория липсва, 
форматираните версии използват ширина на текста различна от 
80 символа или man.conf съдържа директивата NOCACHE.
.PP
Възможно е правата за потребител при изпълнение на
.B man
да се присвоят (suid) на потребителя man. Тогава, ако директорията 
за готовите страници е притежавана от потребителя man и има 
права за достъп 0755 (достъпна за запис само от man), 
и ако готовите файлове са също притежавани от потребителя man 
и имат права за достъп 0644 или 0444 (достъпни за запис само 
от man или забранени за запис), никой обикновен потребител не 
може да променя готови страници или да помества други файлове 
в директорията с готовите файлове.  
Ако правата при изпълнение на
.B man
не са присвоени (suid) на потребителя man и всички потребители 
трябва да могат да създават cat страници, то директориите за 
готовите файлове трябва да са с права за достъп 0777.
.PP
Опцията
.B \-c
задължително форматира наново оригиналната страница, дори ако 
съществува актуална, готова страница.

.SH "СТРАНИЦИ С HTML"
Man открива страници с HTML, ако те са разположени в директории 
с име html плюс разширение за раздел.  
Последното разширение на файловете със страници трябва да е 
".html". С други думи \- правилното име на страницата от 
ръководството за командата
.BR ls (1)
във формат HTML е
.IR /usr/share/man/htmlman1/ls.1.html .

.SH "ПЪТ ЗА ТЪРСЕНЕ НА СТРАНИЦИ ОТ РЪКОВОДСТВОТО"
.B man
използва сложен алгоритъм за търсене на страници от 
ръководството, базиран на подадените опции, променливите на 
средата, конфигурационния файл
.B @man_config_file@ 
и някои вградени конвенции.
.PP
Първо, ако аргументът
.I име
подаден на
.B man
съдържа наклонена черта
.RB ( / ),
.B man 
го възприема като име на файл и не провежда никакво търсене.
.PP
В нормалния случай обаче, когато
.I име 
не съдържа наклонена черта,
.B man 
претърсва няколко директории за файл, който би могъл да е 
страница от ръководството за указаното
.IR име .
.PP
Ако зададете опцията
.BI "-M " път,
то
.I път
е списъкът от директории, които
.B man 
претърсва.
.PP
Ако не зададете
.BR -M ,
но дадете стойност на променливата на средата
.BR MANPATH ,
тази стойност е списъкът от директории разделени с двоеточие, които
.B man
претърсва.
.PP
Ако не укажете явен списък с пътища за търсене чрез
.B -M
или
.BR MANPATH ,
.B man 
съставя свой собствен списък от директории за търсене, базиран 
на съдържанието на конфигурационния файл 
.BR @man_config_file@ .
Директивите
.B MANPATH
в конфигурационния файл указват отделните директории, които 
да се включат в пътя за търсене.  
.PP
Освен това директивите
.B MANPATH_MAP
добавят директории към пътя за търсене на страници в зависимост
от списъка с пътища за търсене на команди, т.е. на променливата на средата
.BR PATH .
За всяка директория, която е в списъка за търсене на команди, директивата
.B MANPATH_MAP
указва директория, която да бъде добавена към пътя за 
търсене на страници.
.B man
взема стойността на променливата 
.B PATH 
и добавя съответните директории към пътя за търсене на страници.  
По този начин, при правилно използване на
.BR MANPATH_MAP ,
когато изпълните командата
.BR "man xyz" ,
ще получите страницата от ръководството за програмата, която 
би била стартирана, ако се изпълни командата
.BR xyz .
.PP
В допълнение, за всяка директория от списъка с пътища за 
търсене на команди ("командна директория"), за която
.I липсва
директива
.B MANPATH_MAP ,
.B man
автоматично търси директория за страници „наблизо“, по\-точно поддиректория
на командната директория или на нейната родителска директория.
.PP
Търсенето на директории „наблизо“ може да се изключи с директивата
.B NOAUTOPATH
в
.BR @man_config_file@ .
.PP
Във всяка от директориите, описани по\-горе,
.B man
търси файл наречен
.IB име . раздел\fR,
с незадължително разширение \- номера на раздела и евентуално 
с разширение за компресия. Ако не намери такъв файл,
.B man
търси във всички поддиректории, ако има такива, с имена
.BI man N
или
.BI cat N\fR,
където
.I N
е номерът на раздела на ръководството.
Ако файлът е в поддиректория
.BI cat N,
.B man
приема, че това е файл с готова, форматирана страница. В противен случай
.B man
приема, че файлът е неформатиран. И в двата случая, ако името 
на файла завършва с известно на
.B man
разширение за компресия, например
.BR .gz ,
.B man
приема, че файлът е компресиран.
.PP
Ако искате да видите дали (или къде)
.B man
би намерил дадена страница от ръководството, използвайте опцията
.BR "--path " ( -w ).

.SH СРЕДА
.TP
.B MANPATH
Път за търсене на страници от ръководството. Тази променлива е с 
по\-висок приоритет от конфигурационния файл и автоматичния път 
за търсене, но с по\-нисък от опцията
.BR -M .
Вижте
.BR "ПЪТ ЗА ТЪРСЕНЕ НА СТРАНИЦИ ОТ РЪКОВОДСТВОТО" .
.TP
.B MANPL
Дължина на страницата. Ако не е зададена, цялата страница от 
ръководството заема една единствена (дълга) форматирана страница.
.TP
.B MANROFFSEQ
Набор от команди за предварителна обработка, които да се стартират преди
.B nroff
или
.BR troff .
По подразбиране, преди
.B nroff
страниците се обработват с tbl.
.TP
.B MANSECT
Набор от раздели на ръководството, в които да се търси.
.TP
.B MANWIDTH
Ширина на страницата. Ако не е зададена се използва широчината на екрана.
.TP
.B MANPAGER
Име на програма, с която страниците да се
извеждат. Ако не е зададена, се ползва
.BR PAGER .
Ако и тя няма стойност, ползва се
.BR @pager@ .
.TP
.B BROWSER
Името на програмата за разглеждане на страници от ръководството във формат HTML.
Ако не е зададена, се използва @browser@.
.TP
.B HTMLPAGER
Командата за текстово изобразяване на страниците от ръководството с HTML.
Ако не е зададена се използва @htmlpager@.
.TP
.B LANG
Поддиректория, в която man най-напред търси страниците от ръководството.  
Така командата „LANG=bg man 1 foo“ ще накара man да търси страницата за foo
първо в .../bg/man1/foo.1, и ако не я намери там, в .../man1/foo.1 (... е
директория от списъка с пътища за търсене).
.TP
.B "NLSPATH, LC_MESSAGES, LANG"
Променливите на средата
.B NLSPATH
и
.B LC_MESSAGES
(или
.BR LANG ,
ако LC_MESSAGES няма стойност) влияят върху намирането на каталога със
съобщения на man (английските съобщения са компилирани в самия man и не
изискват каталог).
Забележка: програми, викани служебно от man, например
.BR col(1) ,
също използват LC_CTYPE.
.TP
.B PATH
Помага да се състави списъкът с пътища за търсене на страници от ръководството. Вижте
.BR "ПЪТ ЗА ТЪРСЕНЕ НА СТРАНИЦИ ОТ РЪКОВОДСТВОТО" .
.TP
.B SYSTEM
Подразбиращо се име на различна система за опцията
.BR \-m .
.SH ГРЕШКИ
Опцията
.B \-t
работи, само ако е инсталирана програмата troff или подобна.
.br
Ако виждате  виждате (мигащо) \e255 или <AD> вместо тирета,
задайте в обкръжението LESSCHARSET=latin1.
.SH ПОЛЕЗНИ СЪВЕТИ
Ако добавите реда

  (global-set-key [(f1)] (lambda () (interactive) (manual-entry (current-word))))

към вашия файл
.IR .emacs 
, натискането на F1 ще ви дава страница с помощ за библиотечната 
функция, на която е позициониран курсора.
.LP
За да получите чисто текстова версия на страница от ръководството, 
без обратни наклонени черти и подчертавания, използвайте:

  # man foo | col -b > foo.mantxt

.SH "АВТОР/ПОДДРЪЖКА"
Първоначалният автор на 
.BR man 
е John W. Eaton. Federico Lucifredi <flucifredi@acm.org> осъществява текущо поддръжката на пакета.
.SH ПРЕВОД
Димитър Жеков, Александър Шопов <ash@contact.bg>
.SH "ВИЖТЕ СЪЩО"
.BR apropos (1),
.BR whatis(1),
.BR less(1),
.BR groff(1),
.BR man.conf(5).
